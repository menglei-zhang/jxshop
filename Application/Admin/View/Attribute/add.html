<extend name="Public:base"/>
<block name="title">ECSHOP 管理中心 - 添加新商品</block>
<body>
<block name="header">
    <span class="action-span"><a href="{:U('index')}">属性列表</a></span>
    <span class="action-span1"><a href="#">ECSHOP 管理中心</a></span>
    <span id="search_id" class="action-span1"> - 添加属性 </span>
    <div style="clear:both"></div>
</block>
<block name="body">
    <form action="" method="post" name="theForm" enctype="multipart/form-data">
        <table width="100%" id="general-table">
            <tr>
                <td class="label">属性名称:</td>
                <td>
                    <input type='text' name='attr_name' maxlength="20" value='' size='27' autofocus="autofocus"/>
                </td>
            </tr>
            <tr>
                <td class="label">所属类型:</td>
                <td>
                    <select name="type_id" id="">
                        <volist name="type" id="vo">
                            <option value="{$vo.id}">{$vo.type_name}</option>
                        </volist>
                    </select>
                </td>
            </tr>
            <tr>
                <td class="label">属性类型:</td>
                <td>
                    <input type='radio' name='attr_type' value="1" checked="checked"/>唯一
                    <input type='radio' name='attr_type' value="2"/>单选
                </td>
            </tr>
            <tr>
                <td class="label">属性录入方式:</td>
                <td>
                    <input type='radio' name='attr_input_type' value="1"/>手工输入
                    <input type='radio' name='attr_input_type' value="2" checked="checked"/>列表选择
                </td>
            </tr>
            <tr>
                <td class="label">默认值:</td>
                <td>
                    <textarea name="attr_value" id="" cols="30" rows="10"></textarea>
                    (默认值为当前列表选择时必须填写，并且多个值之间用英文逗号隔开)
                </td>
            </tr>
        </table>
        <div class="button-div">
            <input type="submit" value=" 确定 " />
            <input type="reset" value=" 重置 " />
        </div>
    </form>
</block>
<block name="js">
    <script>
        $("textarea[name='attr_value']").attr('disabled',false);
        $("input[name='attr_input_type']").change(function(){
            var value=$(this).val();
            if(value==1){
                $("textarea[name='attr_value']").attr('disabled',true).val('');

            }else{
                $("textarea[name='attr_value']").attr('disabled',false).val('');
                if($("textarea[name='attr_value']").val=''){
                    alert("默认值为当前列表选择时必须填写");
                }
            }
        })
    </script>

</block>
